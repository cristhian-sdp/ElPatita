const loader=document.getElementById("loader");if(loader){setTimeout(()=>{loader.classList.add("loader-hidden");loader.addEventListener("transitionend",function(){this.remove()})},200)}
const darkModeToggle=document.querySelector(".darkmode-input");const moonIcon=document.querySelector(".darkmode-toggle svg use");if(darkModeToggle&&moonIcon){function toggleDarkMode(isDark){document.body.classList.toggle("dark-mode",isDark);const iconElement=document.querySelector(".darkmode-toggle svg");iconElement.style.opacity="0";setTimeout(()=>{moonIcon.setAttribute("xlink:href",isDark?"assets/sprite.svg#sun":"assets/sprite.svg#moon");document.querySelector(".darkmode-toggle").setAttribute("aria-label",isDark?"Desactivar modo oscuro":"Activar modo oscuro");iconElement.style.opacity="1"},150);localStorage.setItem("darkMode",isDark)}
if(localStorage.getItem("darkMode")==="true"){darkModeToggle.checked=!0;toggleDarkMode(!0)}
darkModeToggle.addEventListener("change",function(){toggleDarkMode(this.checked)})}
const sections={inicio:document.getElementById("inicio"),carta:document.getElementById("carta"),local:document.getElementById("local"),};const navLinks=document.querySelectorAll('nav a[href^="#"]');function showSection(sectionId){for(const key in sections){if(sections.hasOwnProperty(key)){sections[key].style.display="none"}}
if(sections[sectionId]){sections[sectionId].style.display="";if(sectionId==="inicio"){sections[sectionId].style.display="grid"}}
navLinks.forEach((link)=>{if(link.getAttribute("href")==="#"+sectionId){link.setAttribute("aria-current","page")}else{link.removeAttribute("aria-current")}})}
navLinks.forEach((link)=>{link.addEventListener("click",function(e){e.preventDefault();const sectionId=this.getAttribute("href").substring(1);showSection(sectionId);history.pushState(null,null,this.getAttribute("href"))})});window.addEventListener("popstate",function(){const hash=window.location.hash.substring(1)||"inicio";showSection(hash)});const initialSection=window.location.hash.substring(1)||"inicio";showSection(initialSection);const cartNavLinks=document.querySelectorAll(".cart-nav a");const cartSections=["promociones","brasas","parrillas","guarniciones","bebidas",];function showCartSection(sectionId){cartSections.forEach((section)=>{const sectionElement=document.querySelector("."+section);if(sectionElement){sectionElement.style.display="none"}});const selectedSection=document.querySelector("."+sectionId);if(selectedSection){selectedSection.style.display="grid"}
cartNavLinks.forEach((link)=>{if(link.getAttribute("href")==="#"+sectionId){link.classList.add("active");link.setAttribute("aria-current","page")}else{link.classList.remove("active");link.removeAttribute("aria-current")}})}
cartNavLinks.forEach((link)=>{link.addEventListener("click",function(e){e.preventDefault();const sectionId=this.getAttribute("href").substring(1);showCartSection(sectionId)})});function initializeCart(){if(document.querySelector(".carta-container").style.display!=="none"){showCartSection("promociones")}}
initializeCart();const originalShowSection=showSection;showSection=function(sectionId){originalShowSection(sectionId);if(sectionId==="carta"){showCartSection("promociones")}};const footerToggle=document.getElementById("footer-toggle");const footerContent=document.querySelector(".footer-content");if(footerToggle){footerToggle.addEventListener("click",function(){footerContent.classList.toggle("active")});document.addEventListener("click",function(event){if(!event.target.closest(".footer-container")&&footerContent.classList.contains("active")){footerContent.classList.remove("active")}})}